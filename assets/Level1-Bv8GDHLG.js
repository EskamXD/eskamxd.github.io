import{c as M,j as e,B as c,R as O,C as Z,a as o,b as C,X as B,T as L,D as R,P as _,O as T,r as i}from"./index-o7zeejE4.js";import{B as A}from"./badge-DKvyiTFD.js";import{b as E}from"./level-1-bg-C0_iVCUQ.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],K=M("CircleHelp",I),$=({score:a,solvedCount:s,totalCount:t,onHelpClick:n})=>e.jsxs("div",{className:"w-full flex justify-between items-center p-4",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs(A,{className:"px-3 py-2 rounded-md",children:["Punkty: ",a]})}),e.jsxs("div",{className:"text-xl",children:[s,"/",t]}),e.jsx(c,{variant:"ghost",className:"p-0",onClick:n,children:e.jsx(K,{className:"!w-6 !h-6"})})]}),F=({hotspot:a,solved:s,onClick:t})=>e.jsxs("div",{onClick:t,className:"absolute w-8 h-8 rounded-full cursor-pointer flex items-center justify-center",style:{top:a.top,left:a.left,transform:"translate(-50%, -50%)"},title:a.title,children:[e.jsx("div",{className:`absolute w-full h-full rounded-full ${s?"":"animate-ripple"}`,style:{background:"radial-gradient(circle at center, transparent, white)"}}),e.jsx("div",{className:`relative w-4 h-4 rounded-full border-2 border-white ${s?"bg-green-400":"bg-indigo-400"}`})]});function x({...a}){return e.jsx(O,{"data-slot":"dialog",...a})}function G({...a}){return e.jsx(_,{"data-slot":"dialog-portal",...a})}function j({...a}){return e.jsx(C,{"data-slot":"dialog-close",...a})}function U({className:a,...s}){return e.jsx(T,{"data-slot":"dialog-overlay",className:o("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function p({className:a,children:s,...t}){return e.jsxs(G,{"data-slot":"dialog-portal",children:[e.jsx(U,{}),e.jsxs(Z,{"data-slot":"dialog-content",className:o("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t,children:[s,e.jsxs(C,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(B,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function f({className:a,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:o("flex flex-col gap-2 text-center sm:text-left",a),...s})}function z({className:a,...s}){return e.jsx("div",{"data-slot":"dialog-footer",className:o("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function h({className:a,...s}){return e.jsx(L,{"data-slot":"dialog-title",className:o("text-lg leading-none font-semibold",a),...s})}function k({className:a,...s}){return e.jsx(R,{"data-slot":"dialog-description",className:o("text-muted-foreground text-sm",a),...s})}const X=({hotspot:a,onClose:s})=>{var t;return e.jsx(x,{open:!!a,onOpenChange:n=>!n&&s(),children:e.jsxs(p,{className:"sm:max-w-md",children:[e.jsxs(f,{children:[e.jsx(h,{children:a==null?void 0:a.title}),e.jsx(k,{children:a==null?void 0:a.description})]}),e.jsx("div",{className:"flex flex-col gap-2",children:(t=a==null?void 0:a.actions)==null?void 0:t.map((n,u)=>e.jsx(c,{onClick:n.onClick,className:"text-wrap whitespace-break-spaces",children:n.label},u))}),e.jsx(z,{children:e.jsx(j,{asChild:!0,children:e.jsx(c,{variant:"secondary",onClick:s,children:"Zamknij"})})})]})})},q=({open:a,onClose:s})=>e.jsx(x,{open:a,onOpenChange:t=>!t&&s(),children:e.jsxs(p,{className:"sm:max-w-md",children:[e.jsxs(f,{children:[e.jsx(h,{children:"Gratulacje!"}),e.jsx(k,{children:"Rozwiązałeś wszystkie zagadki!"})]}),e.jsx(z,{children:e.jsx(j,{asChild:!0,children:e.jsx(c,{onClick:s,children:"Zamknij"})})})]})}),J=({open:a,onClose:s,hint:t})=>e.jsx(x,{open:a,onOpenChange:n=>!n&&s(),children:e.jsxs(p,{className:"sm:max-w-md",children:[e.jsxs(f,{children:[e.jsx(h,{children:"Podpowiedź"}),e.jsx(k,{children:t})]}),e.jsx(z,{children:e.jsx(j,{asChild:!0,children:e.jsx(c,{onClick:s,children:"Zamknij"})})})]})}),Q=({bgImage:a,hotspots:s})=>{const[t,n]=i.useState(0),[u,m]=i.useState(null),[d,b]=i.useState([]),[v,w]=i.useState(!1),[N,y]=i.useState(!1),D="Pamiętaj, aby regularnie aktualizować oprogramowanie oraz sprawdzać podejrzane elementy.",H=l=>{b(r=>r.includes(l)?r:[...r,l])},P=l=>{if(!l.actions)return l;const r=l.actions.map(g=>({...g,onClick:()=>{n(S=>S+(g.scoreChange||0)),g.onClick(),H(l.id),m(null)}}));return{...l,actions:r}};return i.useEffect(()=>{d.length===s.length&&w(!0)},[d,s.length]),e.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col items-center relative",children:[e.jsx($,{score:t,solvedCount:d.length,totalCount:s.length,onHelpClick:()=>y(!0)}),e.jsxs("div",{className:"relative w-full max-w-md p-4",children:[e.jsx("img",{id:"game-image",src:a,alt:"Level background",width:400,height:700,className:"rounded-lg shadow-lg"}),s.map(l=>e.jsx(F,{hotspot:l,solved:d.includes(l.id),onClick:()=>m(P(l))},l.id))]}),e.jsx(X,{hotspot:u,onClose:()=>m(null)}),e.jsx(q,{open:v,onClose:()=>w(!1)}),e.jsx(J,{open:N,onClose:()=>y(!1),hint:D})]})},V=[{id:"monitor",title:"Przestarzały system / podejrzane e-maile",description:"Monitor pokazuje przestarzały program antywirusowy oraz kilka e-maili z dziwnymi załącznikami. Co robisz?",top:"53%",left:"55%",actions:[{label:"Zainstaluj aktualizację i usuń podejrzane e-maile",onClick:()=>{},scoreChange:1},{label:"Zignoruj i kontynuuj przeglądanie e-maili",onClick:()=>{},scoreChange:-1}]},{id:"password",title:"Hasło na karteczce samoprzylepnej",description:"Na karteczce znajduje się hasło: 'haslo123'. Trzymanie haseł na widoku to ogromne ryzyko!",top:"66%",left:"12%",actions:[{label:"Zniszcz karteczkę z hasłem",onClick:()=>{},scoreChange:1},{label:"Pozostaw ją bez zmian (ryzyko wycieku danych!)",onClick:()=>{},scoreChange:-1}]},{id:"drawer",title:"Pendrive w szufladzie",description:"Pendrive leży w szufladzie. Możesz go podłączyć do komputera lub najpierw przeskanować.",top:"84%",left:"20%",actions:[{label:"Przeskanuj pendrive przed użyciem",onClick:()=>{},scoreChange:1},{label:"Podłącz natychmiast (ryzyko wirusów)",onClick:()=>{},scoreChange:-1}]},{id:"book",title:"Książka z poradami",description:"Książka zawiera podstawy cyberbezpieczeństwa. Możesz przeczytać rozdział o tworzeniu silnych haseł i phishingu.",top:"62%",left:"33%",actions:[{label:"Przeczytaj rozdział (zdobądź wiedzę)",onClick:()=>{},scoreChange:1}]}],ae=()=>e.jsx(Q,{bgImage:E,hotspots:V});export{ae as default};
