import{c as O,j as e,B as c,R as P,C as L,a as o,b,X as A,T as R,D as T,P as _,O as I,r as i}from"./index-Due0eF9l.js";import{B as M}from"./badge-ofclOpKk.js";import{b as U}from"./level-1-bg-C0_iVCUQ.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Y=O("CircleHelp",E),$=({score:a,solvedCount:s,totalCount:t,onHelpClick:l})=>e.jsxs("div",{className:"w-full flex justify-between items-center p-4",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs(M,{className:"px-3 py-2 rounded-md",children:["Punkty: ",a]})}),e.jsxs("div",{className:"text-xl",children:[s,"/",t]}),e.jsx(c,{variant:"ghost",className:"p-0",onClick:l,children:e.jsx(Y,{className:"!w-6 !h-6"})})]}),F=({hotspot:a,solved:s,onClick:t})=>e.jsxs("div",{onClick:t,className:"absolute w-8 h-8 rounded-full cursor-pointer flex items-center justify-center",style:{top:a.top,left:a.left,transform:"translate(-50%, -50%)"},title:a.title,children:[e.jsx("div",{className:`absolute w-full h-full rounded-full ${s?"":"animate-ripple"}`,style:{background:"radial-gradient(circle at center, transparent, white)"}}),e.jsx("div",{className:`relative w-4 h-4 rounded-full border-2 border-white ${s?"bg-green-400":"bg-indigo-400"}`})]});function m({...a}){return e.jsx(P,{"data-slot":"dialog",...a})}function K({...a}){return e.jsx(_,{"data-slot":"dialog-portal",...a})}function h({...a}){return e.jsx(b,{"data-slot":"dialog-close",...a})}function W({className:a,...s}){return e.jsx(I,{"data-slot":"dialog-overlay",className:o("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function p({className:a,children:s,...t}){return e.jsxs(K,{"data-slot":"dialog-portal",children:[e.jsx(W,{}),e.jsxs(L,{"data-slot":"dialog-content",className:o("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...t,children:[s,e.jsxs(b,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(A,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function f({className:a,...s}){return e.jsx("div",{"data-slot":"dialog-header",className:o("flex flex-col gap-2 text-center sm:text-left",a),...s})}function j({className:a,...s}){return e.jsx("div",{"data-slot":"dialog-footer",className:o("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...s})}function C({className:a,...s}){return e.jsx(R,{"data-slot":"dialog-title",className:o("text-lg leading-none font-semibold",a),...s})}function w({className:a,...s}){return e.jsx(T,{"data-slot":"dialog-description",className:o("text-muted-foreground text-sm",a),...s})}const X=({hotspot:a,onClose:s})=>{var t;return e.jsx(m,{open:!!a,onOpenChange:l=>!l&&s(),children:e.jsxs(p,{className:"sm:max-w-md",children:[e.jsxs(f,{children:[e.jsx(C,{children:a==null?void 0:a.title}),e.jsx(w,{children:a==null?void 0:a.description})]}),e.jsx("div",{className:"flex flex-col gap-2",children:(t=a==null?void 0:a.actions)==null?void 0:t.map((l,u)=>e.jsx(c,{onClick:l.onClick,className:"text-wrap whitespace-break-spaces",children:l.label},u))}),e.jsx(j,{children:e.jsx(h,{asChild:!0,children:e.jsx(c,{variant:"secondary",onClick:s,children:"Close"})})})]})})},q=({open:a,onClose:s})=>e.jsx(m,{open:a,onOpenChange:t=>!t&&s(),children:e.jsxs(p,{className:"sm:max-w-md",children:[e.jsxs(f,{children:[e.jsx(C,{children:"Congratulations!"}),e.jsx(w,{children:"You solved all the puzzles!"})]}),e.jsx(j,{children:e.jsx(h,{asChild:!0,children:e.jsx(c,{onClick:s,children:"Close"})})})]})}),G=({open:a,onClose:s,hint:t})=>e.jsx(m,{open:a,onOpenChange:l=>!l&&s(),children:e.jsxs(p,{className:"sm:max-w-md",children:[e.jsxs(f,{children:[e.jsx(C,{children:"Hint"}),e.jsx(w,{children:t})]}),e.jsx(j,{children:e.jsx(h,{asChild:!0,children:e.jsx(c,{onClick:s,children:"Close"})})})]})}),J=({bgImage:a,hotspots:s})=>{const[t,l]=i.useState(0),[u,g]=i.useState(null),[d,y]=i.useState([]),[N,v]=i.useState(!1),[D,k]=i.useState(!1),H="Pamiętaj, aby regularnie aktualizować oprogramowanie oraz sprawdzać podejrzane elementy.",S=n=>{y(r=>r.includes(n)?r:[...r,n])},z=n=>{if(!n.actions)return n;const r=n.actions.map(x=>({...x,onClick:()=>{l(B=>B+(x.scoreChange||0)),x.onClick(),S(n.id),g(null)}}));return{...n,actions:r}};return i.useEffect(()=>{d.length===s.length&&v(!0)},[d,s.length]),e.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col items-center relative",children:[e.jsx($,{score:t,solvedCount:d.length,totalCount:s.length,onHelpClick:()=>k(!0)}),e.jsxs("div",{className:"relative w-full max-w-md p-4",children:[e.jsx("img",{id:"game-image",src:a,alt:"Level background",width:400,height:700,className:"rounded-lg shadow-lg"}),s.map(n=>e.jsx(F,{hotspot:n,solved:d.includes(n.id),onClick:()=>g(z(n))},n.id))]}),e.jsx(X,{hotspot:u,onClose:()=>g(null)}),e.jsx(q,{open:N,onClose:()=>v(!1)}),e.jsx(G,{open:D,onClose:()=>k(!1),hint:H})]})},Q=[{id:"monitor",title:"Outdated system / suspicious emails",description:"The monitor shows an outdated antivirus and several emails with strange attachments. What do you do?",top:"53%",left:"55%",actions:[{label:"Install update and remove suspicious emails",onClick:()=>{},scoreChange:1},{label:"Ignore and continue browsing emails",onClick:()=>{},scoreChange:-1}]},{id:"password",title:"Password on a sticky note",description:"A sticky note contains the password: 'haslo123'. Keeping passwords in plain sight is a huge risk!",top:"66%",left:"12%",actions:[{label:"Destroy the sticky note with the password",onClick:()=>{},scoreChange:1},{label:"Leave it as is (risk of data leak!)",onClick:()=>{},scoreChange:-1}]},{id:"drawer",title:"USB drive in the drawer",description:"A USB drive is lying in the drawer. You can plug it into the computer or scan it first.",top:"84%",left:"20%",actions:[{label:"Scan the USB drive before opening",onClick:()=>{},scoreChange:1},{label:"Plug it in immediately (risk of viruses)",onClick:()=>{},scoreChange:-1}]},{id:"book",title:"Book of tips",description:"The book contains cybersecurity basics. You can read a chapter on creating strong passwords and phishing.",top:"62%",left:"33%",actions:[{label:"Read the chapter (gain knowledge)",onClick:()=>{},scoreChange:1}]}],ae=()=>e.jsx(J,{bgImage:U,hotspots:Q});export{ae as default};
